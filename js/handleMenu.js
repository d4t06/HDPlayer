import{setLocalStorage as s}from"./utils/appHelper.js";import{onPauseHandle as t}from"./handleEvent.js";const e=document.querySelector.bind(document),n=e(".level2");export const HandleGoBack=s=>{e(".menu-back-btn").onclick=()=>{n.classList.remove("open")}};const o=(s,t)=>t.filter((t=>s.song_ids.includes(t.id)));export default function(){(l=>{const a=e(".switch"),i=e("#songListSelect"),c=e(".toggle-info"),r=e(".player");c.onclick=s=>{const t=s.target.getAttribute("data-for"),o=e(`.${t}`);o&&(n.classList.add("open"),o.style.display="block",e(".menu-back-btn").onclick=()=>{n.classList.remove("open")})},a.onclick=()=>{const t=!l.isDark;l.isDark=t,s("isDark",t),a.classList.toggle("dark",l.isDark),r.classList.toggle("dark",l.isDark)},i.onchange=s=>{if(t(l),s.target.value){const t=l.playlists.find((t=>t.name===s.target.value)),e=o(t,l.songs);l.playlistSongs=e,l.song_in="playlist"}else l.song_in="songs";l.currentIndex=0,l.getActuallySongs(),l.render(),l.loadCurrentSong(),l.handleEvents()}})(this)}